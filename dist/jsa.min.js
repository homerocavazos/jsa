/*! For license information please see jsa.min.js.LICENSE.txt */
var t={d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function s(t){var e=function(t){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:e+""}t.d(e,{d:()=>o});var o=function(){return t=function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=this;i.settings=Object.assign({dl:".jsa",dt:"dt a",dd:"dd",openFirst:!1,openAll:!1,closeAll:null,closeOthers:!1,prefix:null!==(e=n.prefix)&&void 0!==e?e:"".concat(Math.random().toString(36).substring(2,7),"-"),theme:"",icons:["+","-"],iconClass:"jsa-icon",schema:!1,schemaType:"FAQPage",termPadding:"0.5em 1em 0.5em 0"},n),console.log("--------------------------------"),console.log("jsa settings = ",i.settings),i.el=document.querySelector(i.settings.dl)||null,i.terms=i.getObjs(document.querySelectorAll("".concat(i.settings.dl," ").concat(i.settings.dt))),i.definitions=i.getObjs(document.querySelectorAll("".concat(i.settings.dl," ").concat(i.settings.dd))),i.settings.theme&&i.el.classList.add("jsa-theme-".concat(i.settings.theme)),i.el.addEventListener("click",function(t){t.preventDefault(),i.toggle(t.target)}),i.terms.map(function(t,e){if(t.setAttribute("tabindex",0),t.setAttribute("id","".concat(i.settings.prefix,"term").concat(e)),t.setAttribute("data-target","".concat(i.settings.prefix,"definition").concat(e)),t.style.cursor="pointer",t.setAttribute("aria-controls","".concat(i.settings.prefix,"definition").concat(e)),t.setAttribute("aria-expanded","false"),t.setAttribute("role","button"),t.setAttribute("aria-label",t.ariaLabel?t.ariaLabel:"Toggle definition for ".concat(t.textContent.trim())),"basic"===i.settings.theme){t.style.display="flex",t.style.position="relative",t.style.justifyContent="space-between",t.style.alignItems="center",t.style.textDecoration="none",t.style.padding=i.settings.termPadding,t.style.borderTop="1px solid #eee";var n=document.createElement("span");n.innerHTML=i.settings.icons[0],n.classList.add(i.settings.iconClass),n.style.pointerEvents="none",i.settings.openFirst&&0===e&&(n.innerHTML=i.settings.icons[1]),t.appendChild(n)}i.settings.openFirst&&0===e&&t.classList.add("active"),t.addEventListener("keydown",function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),i.toggle(t.target))})}),i.definitions.map(function(t,e){t.setAttribute("id","".concat(i.settings.prefix,"definition").concat(e)),t.setAttribute("aria-labelledby","".concat(i.settings.prefix,"term").concat(e)),t.style.maxHeight="0",t.style.overflow="hidden",!0===i.settings.openFirst&&0===e&&t.classList.add("show"),!0===i.settings.openFirst&&0===e&&(t.style.maxHeight=t.scrollHeight+"px"),!0===i.settings.openAll&&t.classList.add("show"),!0===i.settings.openAll&&(t.style.maxHeight=t.scrollHeight+"px"),"basic"===i.settings.theme&&(t.style.padding="0",t.style.margin="0",t.style.borderBottom="1px solid #eee",t.style.borderTop="none",t.style.transition="max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), padding 0.3s cubic-bezier(0.4, 0, 0.2, 1)",!0===i.settings.openFirst&&0===e&&(t.style.padding="1em 0"))}),i.init(),i.schema=[],i.buildSchema(),i.settings.closeAll&&document.querySelector(i.settings.closeAll).addEventListener("click",function(t){return i.reset()})},e=[{key:"init",value:function(){var t=this;window.addEventListener("resize",t.debounce(function(e){t.updateDefinitionHeight()},200))}},{key:"toggle",value:function(t){var e=this;if(t.dataset.target){var n=t.dataset.target,i=document.getElementById("".concat(n)),s=i.classList.contains("show");e.settings.closeOthers&&!s&&e.reset(),"basic"===e.settings.theme&&(i.style.padding=s?"0":"1em 0"),i.classList.toggle("show"),t.setAttribute("aria-expanded",s?"false":"true");var o=t.querySelector(".".concat(e.settings.iconClass));o&&(o.innerHTML=s?e.settings.icons[0]:e.settings.icons[1]),i.style.maxHeight=s?"0":i.scrollHeight+"px"}}},{key:"reset",value:function(){var t=this;t.terms.map(function(e,n){e.classList.remove("active"),e.setAttribute("aria-expanded","false");var i=e.querySelector(".".concat(t.settings.iconClass));i&&(i.innerHTML=t.settings.icons[0])}),t.definitions.map(function(e,n){e.classList.remove("show"),e.style.maxHeight="0","basic"===t.settings.theme&&(e.style.padding="0")})}},{key:"getObjs",value:function(t){return Object.keys(t).map(function(e){return t[e]})}},{key:"buildSchema",value:function(){var t=this;if(t.settings.schema){var e={"@context":"https://schema.org","@type":t.settings.schemaType,mainEntity:[]};t.terms.map(function(n,i){var s={"@type":"Question",name:n.textContent.trim(),acceptedAnswer:{"@type":"Answer",text:t.definitions[i].innerHTML.trim()}};e.mainEntity.push(s)}),t.el.insertAdjacentHTML("beforeend",'<script type="application/ld+json">'.concat(JSON.stringify(e),"<\/script>"))}}},{key:"debounce",value:function(t,e){var n;return function(){var i=arguments,s=this;clearTimeout(n),n=setTimeout(function(){return t.apply(s,i)},e)}}},{key:"updateDefinitionHeight",value:function(){this.definitions.map(function(t,e){t.classList.contains("show")&&(t.style.maxHeight=t.scrollHeight+"px")})}}],e&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const r=e.d;export{r as jsa};