/*! For license information please see jsa.min.js.LICENSE.txt */
var t={d:(e,n)=>{for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function s(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,i(s.key),s)}}function i(t){var e=function(t){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var s=e.call(t,"string");if("object"!=n(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:e+""}t.d(e,{d:()=>o});var o=function(){return t=function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=this;s.settings=Object.assign({dl:".jsa",dt:"dt a",dd:"dd",openFirst:!1,openAll:!1,closeAll:null,closeOthers:!1,prefix:null!==(e=n.prefix)&&void 0!==e?e:"".concat(Math.random().toString(36).substring(2,7),"-"),theme:"",icons:["+","-"],iconClass:"jsa-icon",schema:!1,schemaType:"FAQPage",termPadding:"0.5em 1em 0.5em 0"},n),console.log("--------------------------------"),console.log("jsa settings = ",s.settings),s.el=document.querySelector(s.settings.dl)||null,s.terms=s.getObjs(document.querySelectorAll("".concat(s.settings.dl," ").concat(s.settings.dt))),s.definitions=s.getObjs(document.querySelectorAll("".concat(s.settings.dl," ").concat(s.settings.dd))),s.settings.theme&&s.el.classList.add("jsa-theme-".concat(s.settings.theme)),s.el.addEventListener("click",function(t){t.preventDefault(),s.toggle(t.target)}),s.terms.map(function(t,e){if(t.setAttribute("tabindex",0),t.setAttribute("id","".concat(s.settings.prefix,"term").concat(e)),t.setAttribute("data-target","".concat(s.settings.prefix,"definition").concat(e)),t.style.cursor="pointer",t.setAttribute("aria-controls","".concat(s.settings.prefix,"definition").concat(e)),t.setAttribute("aria-expanded","false"),t.setAttribute("role","button"),t.setAttribute("aria-label",t.ariaLabel?t.ariaLabel:"Toggle definition for ".concat(t.textContent.trim())),"basic"===s.settings.theme){t.style.display="flex",t.style.position="relative",t.style.justifyContent="space-between",t.style.alignItems="center",t.style.textDecoration="none",t.style.padding=s.settings.termPadding,t.style.borderTop="1px solid #eee";var n=document.createElement("span");n.innerHTML=s.settings.icons[0],n.classList.add(s.settings.iconClass),n.style.pointerEvents="none",s.settings.openFirst&&0===e&&(n.innerHTML=s.settings.icons[1]),t.appendChild(n)}s.settings.openFirst&&0===e&&t.classList.add("active"),t.addEventListener("keydown",function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),s.toggle(t.target))})}),s.definitions.map(function(t,e){t.setAttribute("id","".concat(s.settings.prefix,"definition").concat(e)),t.setAttribute("aria-labelledby","".concat(s.settings.prefix,"term").concat(e)),t.style.maxHeight="0",t.style.overflow="hidden",!0===s.settings.openFirst&&0===e&&t.classList.add("show"),!0===s.settings.openFirst&&0===e&&(t.style.maxHeight=t.scrollHeight+"px"),!0===s.settings.openAll&&t.classList.add("show"),!0===s.settings.openAll&&(t.style.maxHeight=t.scrollHeight+"px"),"basic"===s.settings.theme&&(t.style.padding="0",t.style.margin="0",t.style.borderBottom="1px solid #eee",t.style.borderTop="none",t.style.transition="max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), padding 0.3s cubic-bezier(0.4, 0, 0.2, 1)",!0===s.settings.openFirst&&0===e&&(t.style.padding="1em 0"))}),s.schema=[],s.buildSchema(),s.settings.closeAll&&document.querySelector(s.settings.closeAll).addEventListener("click",function(t){return s.reset()})},e=[{key:"toggle",value:function(t){var e=this;if(t.dataset.target){var n=t.dataset.target,s=document.getElementById("".concat(n)),i=s.classList.contains("show");e.settings.closeOthers&&!i&&e.reset(),"basic"===e.settings.theme&&(s.style.padding=i?"0":"1em 0"),s.classList.toggle("show"),t.setAttribute("aria-expanded",i?"false":"true");var o=t.querySelector(".".concat(e.settings.iconClass));o&&(o.innerHTML=i?e.settings.icons[0]:e.settings.icons[1]),s.style.maxHeight=i?"0":s.scrollHeight+"px"}}},{key:"reset",value:function(){var t=this;t.terms.map(function(t,e){t.classList.remove("active"),t.setAttribute("aria-expanded","false")}),t.definitions.map(function(e,n){e.classList.remove("show"),e.style.maxHeight="0","basic"===t.settings.theme&&(e.style.padding="0")})}},{key:"getObjs",value:function(t){return Object.keys(t).map(function(e){return t[e]})}},{key:"buildSchema",value:function(){var t=this;if(t.settings.schema){var e={"@context":"https://schema.org","@type":t.settings.schemaType,mainEntity:[]};t.terms.map(function(n,s){var i={"@type":"Question",name:n.textContent.trim(),acceptedAnswer:{"@type":"Answer",text:t.definitions[s].innerHTML.trim()}};e.mainEntity.push(i)}),t.el.insertAdjacentHTML("beforeend",'<script type="application/ld+json">'.concat(JSON.stringify(e),"<\/script>"))}}}],e&&s(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const r=e.d;export{r as jsa};