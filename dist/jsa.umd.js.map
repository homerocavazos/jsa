{"version":3,"file":"jsa.umd.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,CAAC;AACD,O;;UCVA;UACA;;;;;WCDA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA,sBAAsB;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,2CAA2C;AACxE;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA,mDAAmD,eAAe,EAAE,cAAc;AAClF,yDAAyD,eAAe,EAAE,cAAc;;AAExF,wDAAwD,iBAAiB;;AAEzE;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,8BAA8B,kBAAkB,MAAM,MAAM;AAC5D,uCAAuC,kBAAkB,YAAY,MAAM;;AAE3E;AACA,yCAAyC,kBAAkB,YAAY,MAAM;AAC7E;AACA;AACA;AACA,8EAA8E,wBAAwB;;AAEtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ,GAAG;;AAEH;;AAEA,oCAAoC,kBAAkB,YAAY,MAAM;AACxE,iDAAiD,kBAAkB,MAAM,MAAM;;AAE/E;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;;;;;AAKA,EAAE;;AAEF;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA,oCAAoC;;AAEpC;AACA,uCAAuC,OAAO;;AAE9C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oCAAoC,qBAAqB;AACzD;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC,qBAAqB;AAC1D;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,6EAA6E,uBAAuB;AACpG;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA,CAAC","sources":["webpack://cba/webpack/universalModuleDefinition","webpack://cba/webpack/bootstrap","webpack://cba/webpack/runtime/define property getters","webpack://cba/webpack/runtime/hasOwnProperty shorthand","webpack://cba/webpack/runtime/make namespace object","webpack://cba/./src/_jsa.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cba\"] = factory();\n\telse\n\t\troot[\"cba\"] = root[\"cba\"] || {}, root[\"cba\"][\"jsa\"] = factory();\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*!\n * jsa.js â€“ JavaScript Accordion Utility\n * Version: 2.0.1\n * Author: Homero Cavazos\n * GitHub: https://github.com/homiehomes\n * License: MIT\n * Website: https://homiehomes.dev\n * Description: A simple JavaScript accordion component.\n * \n * opts = {\n *  dl: \".jsa\",            // Selector for the definition list\n *  dt: \"dt a\",            // Selector for the term elements\n *  dd: \"dd\",              // Selector for the definition elements\n *  openFirst: false,      // Whether to open the first item by default\n *  openAll: false,        // Whether to open all items by default\n *  prefix: \"jsa\",         // Prefix for IDs and classes to avoid conflicts\n *  inline: true           // Whether to use inline styles for maxHeight and overflow. Set to false to manage styles via CSS.\n * \n * */\n\n\"use strict\";\n\nclass jsa {\n\n\tconstructor(opts = {}) {\n\t\tconst _ = this;\n\n\t\t_.settings = Object.assign({\n\t\t\tdl: \".jsa\",\n\t\t\tdt: \"dt a\",\n\t\t\tdd: \"dd\",\n\t\t\topenFirst: false,\n\t\t\topenAll: false,\n\t\t\tcloseAll: null, // Selector e.g. <a class=\"close-all\">Close All</a>\n\t\t\tcloseOthers: false, // Whether to close other items when one is opened\n\t\t\tprefix: opts.prefix ?? `${Math.random().toString(36).substring(2, 7)}-`, // Generate a random prefix if not provided\n\t\t\ttheme: 'core', // options: 'custom', 'minimal' 'cabinet', null for no theme\n\t\t\ticons: ['', ''], // options: ['+', '-'], ['arrow-down', 'arrow-up'], [] for no icons\n\t\t\ticonClass: 'jsa-icon', // Class for the icon span\n\t\t\ttermPadding: '0.5em 1em 0.5em 0', // Padding for dt elements when theme is 'custom'\n\t\t\tschema: false,\n\t\t\tschemaType: 'FAQPage',\n\t\t}, opts);\n\n\t\tconsole.log('--------------------------------');\n\t\tconsole.log('jsa settings = ', _.settings);\n\n\t\t_.el = document.querySelector(_.settings.dl) || null;\n\t\t_.terms = _.getObjs(document.querySelectorAll(`${_.settings.dl} ${_.settings.dt}`));\n\t\t_.definitions = _.getObjs(document.querySelectorAll(`${_.settings.dl} ${_.settings.dd}`));\n\n\t\tif (_.settings.theme) _.el.classList.add(`jsa-theme-${_.settings.theme}`);\n\n\t\t// Event Delegation for terms\n\t\t_.el.addEventListener(\"click\", e => {\n\t\t\te.preventDefault();\n\t\t\t_.toggle(e.target);\n\t\t});\n\n\t\t// Set the IDs and data-target attributes for terms\n\t\t_.terms.map((term, index) => {\n\t\t\tterm.setAttribute('tabindex', 0);\n\t\t\tterm.setAttribute('id', `${_.settings.prefix}term${index}`);\n\t\t\tterm.setAttribute('data-target', `${_.settings.prefix}definition${index}`);\n\n\t\t\tterm.style.cursor = \"pointer\";\n\t\t\tterm.setAttribute(\"aria-controls\", `${_.settings.prefix}definition${index}`);\n\t\t\tterm.setAttribute(\"aria-expanded\", \"false\");\n\t\t\tif (_.settings.openFirst && index === 0) term.setAttribute(\"aria-expanded\", \"true\");\n\t\t\tterm.setAttribute(\"role\", \"button\");\n\t\t\tterm.setAttribute(\"aria-label\", !term.ariaLabel ? `Toggle definition for ${term.textContent.trim()}` : term.ariaLabel);\n\n\t\t\tif (_.settings.theme === 'core') {\n\t\t\t\tterm.style.display = \"flex\";\n\t\t\t\tterm.style.position = \"relative\";\n\t\t\t\tterm.style.justifyContent = \"space-between\";\n\t\t\t\tterm.style.alignItems = \"flex-start\";\n\t\t\t\tterm.style.gap = \"1em\";\n\t\t\t\tterm.style.textDecoration = \"none\";\n\t\t\t\tterm.style.padding = _.settings.termPadding;\n\t\t\t\tterm.style.borderTop = \"1px solid #eee\";\n\n\t\t\t\tlet icon = document.createElement('span');\n\t\t\t\ticon.innerHTML = _.settings.icons[0];\n\t\t\t\ticon.classList.add(_.settings.iconClass);\n\t\t\t\ticon.style.pointerEvents = \"none\";\n\n\t\t\t\t// If open first is true, set the icon to the \"open\" icon\n\t\t\t\tif (_.settings.openFirst && index === 0) icon.innerHTML = _.settings.icons[1];\n\n\t\t\t\tterm.appendChild(icon);\n\n\t\t\t};\n\n\n\t\t\tif (_.settings.openFirst && index === 0) term.parentNode.classList.add(\"active\");\n\n\t\t\t// This covers accessibility for keyboard users\n\t\t\tterm.addEventListener(\"keydown\", e => {\n\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t_.toggle(e.target);\n\t\t\t\t}\n\t\t\t});\n\n\t\t});\n\n\t\t_.definitions.map((definition, index) => {\n\n\t\t\tdefinition.setAttribute('id', `${_.settings.prefix}definition${index}`);\n\t\t\tdefinition.setAttribute(\"aria-labelledby\", `${_.settings.prefix}term${index}`);\n\n\t\t\tdefinition.style.maxHeight = \"0\";\n\t\t\tdefinition.style.overflow = \"hidden\";\n\n\t\t\tif (_.settings.openFirst === true && index === 0) definition.classList.add(\"show\");\n\t\t\tif (_.settings.openFirst === true && index === 0) definition.style.maxHeight = definition.scrollHeight + \"px\";\n\n\t\t\tif (_.settings.openAll === true) definition.classList.add(\"show\");\n\t\t\tif (_.settings.openAll === true) definition.style.maxHeight = definition.scrollHeight + \"px\";\n\n\t\t\tif (_.settings.theme === 'core') {\n\t\t\t\tdefinition.style.padding = \"0\";\n\t\t\t\tdefinition.style.margin = \"0\";\n\t\t\t\tdefinition.style.borderBottom = definition.classList.contains(\"show\") ? \"1px solid #eee\" : \"none\";\n\t\t\t\tdefinition.style.borderTop = \"none\";\n\t\t\t\tdefinition.style.transition = \"max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), padding 0.3s cubic-bezier(0.4, 0, 0.2, 1)\";\n\t\t\t\t// if (_.settings.openFirst === true && index === 0) definition.style.padding = \"1em 0\";\n\t\t\t}\n\t\t});\n\n\t\t_.init();\n\t\t_.schema = [];\n\t\t_.buildSchema();\n\n\t\tif (_.settings.closeAll && document.querySelector(_.settings.closeAll)) {\n\t\t\tdocument.querySelector(_.settings.closeAll).addEventListener('click', e => {\n\t\t\t\te.preventDefault();\n\t\t\t\t_.reset();\n\t\t\t});\n\t\t};\n\n\n\n\n\t}// constructor\n\n\tinit() {\n\t\tconst _ = this;\n\t\twindow.addEventListener('resize', _.debounce((e) => {\n\t\t\t_.updateDefinitionHeight();\n\t\t}, 200));\n\t}\n\n\ttoggle(term) {\n\t\tconst _ = this;\n\n\t\tif (!term.dataset.target) return; // Prevent toggling if the clicked element is not a term\n\n\t\tlet target = term.dataset.target;\n\t\tlet def = document.getElementById(`${target}`);\n\n\t\tconst isOpen = def.classList.contains(\"show\");\n\n\t\tif (_.settings.closeOthers && !isOpen) {\n\t\t\t_.reset();\n\t\t}\n\n\t\tdef.classList.toggle(\"show\");\n\t\tterm.setAttribute(\"aria-expanded\", !isOpen ? \"true\" : \"false\");\n\t\tterm.parentNode.classList.toggle(\"active\");\n\n\t\t// Swap icon if applicable\n\t\tlet icon = term.querySelector(`.${_.settings.iconClass}`);\n\t\tif (icon) {\n\t\t\ticon.innerHTML = !isOpen ? _.settings.icons[1] : _.settings.icons[0];\n\t\t}\n\n\t\t// Apply transition for inline elements for smooth open/close\n\n\t\tif (!isOpen) {\n\t\t\tdef.style.maxHeight = def.scrollHeight + \"px\";\n\t\t} else {\n\t\t\tdef.style.maxHeight = \"0\";\n\t\t}\n\n\t}\n\n\treset() {\n\t\tconst _ = this;\n\t\t_.terms.map((term, index) => {\n\t\t\tterm.parentNode.classList.remove(\"active\");\n\t\t\tterm.setAttribute(\"aria-expanded\", \"false\");\n\n\t\t\tlet icon = term.querySelector(`.${_.settings.iconClass}`);\n\t\t\tif (icon) {\n\t\t\t\ticon.innerHTML = _.settings.icons[0];\n\t\t\t}\n\n\t\t});\n\t\t_.definitions.map((definition, index) => {\n\t\t\tdefinition.classList.remove(\"show\");\n\t\t\tdefinition.style.maxHeight = \"0\";\n\t\t\tif (_.settings.theme === 'core') definition.style.padding = \"0\";\n\t\t});\n\t}\n\n\tgetObjs(objs) {\n\t\treturn Object.keys(objs).map(function (e) {\n\t\t\treturn objs[e];\n\t\t});\n\t};\n\n\tbuildSchema() {\n\t\tconst _ = this;\n\n\t\tif (!_.settings.schema) return;\n\n\t\tlet schema = {\n\t\t\t\"@context\": \"https://schema.org\",\n\t\t\t\"@type\": _.settings.schemaType,\n\t\t\t\"mainEntity\": [\n\n\t\t\t]\n\t\t};\n\t\t_.terms.map((term, index) => {\n\t\t\tconst question = {\n\t\t\t\t\"@type\": \"Question\",\n\t\t\t\t\"name\": term.textContent.trim(),\n\t\t\t\t\"acceptedAnswer\": {\n\t\t\t\t\t\"@type\": \"Answer\",\n\t\t\t\t\t\"text\": _.definitions[index].innerHTML.trim()\n\t\t\t\t}\n\t\t\t};\n\t\t\tschema.mainEntity.push(question);\n\t\t});\n\n\t\t_.el.insertAdjacentHTML(\"beforeend\", `<script type=\"application/ld+json\">${JSON.stringify(schema)}</script>`);\n\t}\n\n\tdebounce(fn, time) {\n\t\tlet timeout;\n\t\treturn function () {\n\t\t\tconst functionCall = () => fn.apply(this, arguments);\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(functionCall, time);\n\t\t}\n\t}\n\n\tupdateDefinitionHeight() {\n\t\tconst _ = this;\n\t\t_.definitions.map((definition, index) => {\n\t\t\tif (definition.classList.contains(\"show\")) {\n\t\t\t\tdefinition.style.maxHeight = definition.scrollHeight + \"px\";\n\t\t\t}\n\t\t});\n\t}\n\n}// class jsa\n\n\nexport { jsa };"],"names":[],"sourceRoot":""}